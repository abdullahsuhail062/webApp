<div 
  class="w-64 rounded-lg shadow-lg bg-white border border-slate-200"
>
  <!-- User info -->
  <div class="flex items-start gap-3 px-4 py-3 border-b">
    <div
      class="h-9 w-9 rounded-full bg-slate-200
             flex items-center justify-center
             text-xs font-semibold text-slate-700"
    >
      {{ 'U' }}
    </div>

    <div class="flex flex-col text-left min-w-0">
      <span class="text-sm font-medium text-slate-800">
        {{ user()?.username }}
      </span>
      <span class="text-xs text-slate-500 truncate">
        {{ user()?.email }}
      </span>
    </div>
  </div>

  <!-- Edit profile -->
  <button
    (click)="editProfile()"
    class="w-full flex items-center gap-3 px-4 py-2 text-sm
           text-slate-700 hover:bg-slate-100
           focus:outline-none focus:ring-2 focus:ring-indigo-500"
  >
    <span class="text-slate-400">âœï¸</span>
    <span>Edit profile</span>
  </button>

  <!-- Dashboard -->
  <button
    (click)="goToDashboard()"
    class="w-full flex items-center gap-3 px-4 py-2 text-sm
           text-slate-700 hover:bg-slate-100
           focus:outline-none focus:ring-2 focus:ring-indigo-500"
  >
    <span class="text-slate-400">ğŸ </span>
    <span>Dashboard</span>
  </button>

  <!-- Settings -->
  <button
    (click)="openSettings()"
    class="w-full flex items-center gap-3 px-4 py-2 text-sm
           text-slate-700 hover:bg-slate-100
           focus:outline-none focus:ring-2 focus:ring-indigo-500"
  >
    <span class="text-slate-400">âš™ï¸</span>
    <span>Settings</span>
  </button>

  <div class="border-t my-1"></div>

  <!-- Logout -->
  <button
    (click)="logout()"
    class="w-full flex items-center gap-3 px-4 py-2 text-sm
           text-red-600 hover:bg-red-50"
  >
    <span>ğŸšª</span>
    <span>Sign out</span>
  </button>
</div>

@if (!editMode()) {
  <!-- profile view -->
  <button (click)="openEdit()">Edit profile</button>
}

@if (editMode()) {
  <app-edit-profile
    [user]="user()"
    (cancel)="closeEdit()"
    (save)="onSave($event)"
/>

}

<app-setting
[user]="user()"
/>